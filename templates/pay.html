<!doctype html>
<html>
<head>
  <title>UPI Payment</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      padding-top: 50px;
      background: #f1f1f1;
    }
    .card {
      display: inline-block;
      background: #333;
      padding: 30px;
      border-radius: 15px;
      color: white;
    }
    img.qr {
      width: 220px;
      margin-top: 20px;
      border-radius: 10px;
    }
    button {
      margin-top: 15px;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      background: #4CAF50;
      color: white;
      font-size: 16px;
      cursor: not-allowed; /* initially disabled */
      opacity: 0.6;
    }
    button.enabled {
      cursor: pointer;
      opacity: 1;
    }
    .note {
      margin-top: 10px;
      font-size: 14px;
      color: #ddd;
    }
  </style>
</head>
<body>
  <div class="card">
    <h3>Pay with UPI</h3>
    <p>Amount: ₹{{ amount }}</p>
    <p>Scan this QR code to complete your payment:</p>
    <img src="{{ url_for('static', filename='QRcode.jpg') }}" alt="UPI QR Code" class="qr">
    <p class="note" id="note">Please scan the QR code first.</p>
    <form action="{{ url_for('payment_success') }}" method="POST">
      <button type="submit" id="pay-button" disabled>✅ I have paid</button>
    </form>
  </div>

  <script>
    // Enable the button after 5 seconds
    setTimeout(function() {
      var btn = document.getElementById("pay-button");
      btn.disabled = false;
      btn.classList.add("enabled");
      document.getElementById("note").textContent = "After payment, click 'I have paid' to continue.";
    }, 5000); // 5 seconds
  </script>
</body>
</html>
